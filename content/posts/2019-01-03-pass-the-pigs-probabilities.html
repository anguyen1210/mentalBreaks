---
title: Pass the Pigs Probabilities
author: Anthony Nguyen
date: '2019-01-03'
slug: pass-the-pigs-probabilities
categories:
tags:
  - probability
  - games
lastmod: '2019-01-03T18:21:44+01:00'
layout: post
type: post

---



<div style="float:right;position: relative; top: -10px; left: 20px;">
<div class="figure">
<img src="/posts/2019-01-03-pass-the-pigs-probabilities_files/pig2_300px.png" />

</div>
</div>
<p>It’s the holiday season, family is in town, and the board games are out!</p>
<p>At the moment, we have a few games that are in our main rotation, and oddly enough, <a href="https://www.amazon.com/Winning-Moves-Games-Pass-Pigs/dp/B00005JG3Y">Pass the Pigs</a> is one of them. It’s a ridiculous game, but after a few rounds, people lock in, the throws get a bit more dramatic, and it always makes for some good fun.</p>
<p>Pass the Pigs is essentially a dice game, but instead of dice, you are throwing two little plastic pigs that can land in any number of different ways. Depending on how they land, you score points (or lose points). The first person to reach whatever number you set–usually 100–wins. Consult the <a href="https://en.wikipedia.org/wiki/Pass_the_Pigs">Pass the Pigs Wiki</a> page for a full description with rules of the game.</p>
<p>At some point after our first session playing the game this year, I started thinking that it would be fun to look at the probability distributions for scoring points, which seemed like they would be pretty straightforward. The only tricky thing would be to figure out the probabilities for how the pigs landed, but luckily, people have already done some extensive work on this, and I’ve found some good write ups of probability models and strategies <a href="http://daynebatten.com/2015/09/optimal-pass-the-pigs-strategy/">here</a> <a href="http://paulowengames.blogspot.com/2012/01/risk-management-and-pigs-running.html">and here</a>.</p>
<p>In the end, I took a fairly similar approach to Dayne Batten in his blogpost on this game, but I still had fun working through all the calculations myself, so here it is!</p>
<div id="determining-pig-probabilities" class="section level2">
<h2>Determining pig probabilities</h2>
<p>The most difficult part of modeling this game is figuring out the probabilities for how each pig can land. Quickly scanning the internet, I saw different numbers <a href="https://boardgamegeek.com/thread/708103/serious-stats-silly-game">here</a> and <a href="http://passpigs.tripod.com/prob.html">here</a>, but in the end, I just went with what is listed on the <a href="https://en.wikipedia.org/wiki/Pass_the_Pigs#Relative_frequencies">Wikipedia page</a>, as it was taken from an <a href="http://jse.amstat.org/v14n3/datasets.kern.html">academic paper</a> that seemed to have this most rigorous approach to figuring this out.</p>
<p>The first step was to create vector with the probabilities for the six different ways the pigs can land, along with the names of all the landing positions, and build up our marginal and joint probabilities from there.</p>
<pre class="r"><code>position &lt;- c(&quot;dot&quot;, &quot;no_dot&quot;, &quot;razorback&quot;, &quot;trotter&quot;, &quot;snouter&quot;, &quot;jowler&quot;)  
  
p &lt;- c(.349, .302, .224, .088, .030, .0061)</code></pre>
<p>Because each roll of the pigs is independent from the other, we can find the joint probability distribution by just simply multiplying the individual probabilities.</p>
<p>We can do this quickly through matrix multiplication, where the <code>p</code> object we just created represents a (6 x 1) vector of probabilities <span class="math inline">\(p\)</span> for the first pig, which we can multiply by its transpose <span class="math inline">\(p&#39;\)</span>, the second pig, to arrive at a (6 x 6) matrix (<span class="math inline">\(P\)</span>) representing the joint probabilities for (i.e. <a href="https://www.probabilitycourse.com/chapter5/5_1_1_joint_pmf.php">joint PMF</a>) for our two pigs. In other words: <span class="math display">\[
P = pp&#39;
\]</span></p>
<pre class="r"><code>#create matrix with joint probabilities  
P &lt;- p %*% t(p)  
  
#label the rows and columns  
rownames(P) &lt;- position
colnames(P) &lt;- position
  
#print results  
P</code></pre>
<pre><code>##                 dot    no_dot razorback   trotter  snouter     jowler
## dot       0.1218010 0.1053980 0.0781760 0.0307120 0.010470 0.00212890
## no_dot    0.1053980 0.0912040 0.0676480 0.0265760 0.009060 0.00184220
## razorback 0.0781760 0.0676480 0.0501760 0.0197120 0.006720 0.00136640
## trotter   0.0307120 0.0265760 0.0197120 0.0077440 0.002640 0.00053680
## snouter   0.0104700 0.0090600 0.0067200 0.0026400 0.000900 0.00018300
## jowler    0.0021289 0.0018422 0.0013664 0.0005368 0.000183 0.00003721</code></pre>
<p>As a quick sanity check, we know that all of these probabilities should sum up to one, which we can quickly verify:</p>
<pre class="r"><code>sum(P)</code></pre>
<pre><code>## [1] 0.9982008</code></pre>
</div>
<div id="scoring-points-as-a-random-variable" class="section level2">
<h2>Scoring points as a random variable</h2>
<p><img src="/posts/2019-01-03-pass-the-pigs-probabilities_files/pass_pigs_pts.jpg" /> For every roll of the two pigs, players are awarded points according to how the pigs land as illustrated in the image above.</p>
<p>We can summarize all of the different point outcome in a table as follows:</p>
<pre class="r"><code>#points table taken from Wiki entry  
PTS &lt;- matrix(c(1,0,5,5,10,15,
                0,1,5,5,10,15,
                5,5,20,10,15,20,
                5,5,10,20,15,20,
                10,10,15,15,40,25,
                15,15,20,20,25,60
                ), nrow = 6, ncol = 6)
  
#add labels  
rownames(PTS) &lt;- position
colnames(PTS) &lt;- position 
  
#print results  
PTS</code></pre>
<pre><code>##           dot no_dot razorback trotter snouter jowler
## dot         1      0         5       5      10     15
## no_dot      0      1         5       5      10     15
## razorback   5      5        20      10      15     20
## trotter     5      5        10      20      15     20
## snouter    10     10        15      15      40     25
## jowler     15     15        20      20      25     60</code></pre>
<p>The different point outcomes for each roll of the two pigs is also, therefore, a random variable that can take on any of nine different values (0, 1, 5, 10, 15, 20, 25, 40, 60).</p>
<p>So for each turn, every time we roll the two pigs, we can think of the points we get a random variable, <span class="math inline">\(Z\)</span>, which takes on one of the nine values, <span class="math inline">\(z\)</span>, with a probability equal to the sum of the probabilities of all the different pig combinations that results in that point total:</p>
<span class="math display">\[\begin{align*}
p(Z=0) =&amp; \,p(\text{dot, no_dot}) + p(\text{no_dot, dot}) \\  
p(Z=1) =&amp; \,p(\text{dot, dot}) + p(\text{no_dot, no_dot}) \\      
p(Z=5) =&amp; \,p(\text{razorback, dot}) + p(\text{trotter, dot}) + p(\text{razorback, no_dot}) + p(\text{trotter, no_dot}) + \\
  &amp;p(\text{dot, razorback}) + p(\text{no_dot, razorback}) + p(\text{dot, trotter}) + p(\text{no_dot, trotter}) \\ 
p(Z=10) =&amp; \,p(\text{snouter, dot}) + p(\text{snouter, no_dot}) + p(\text{trotter, razorback}) + p(\text{razorback, trotter}) + \\ 
  &amp;p(\text{dot, snouter}) + p(\text{no_dot, snouter}) \\  
p(Z=15) =&amp; \,p(\text{jowler, dot}) + p(\text{jowler, no_dot}) + p(\text{snouter, razorback}) + p(\text{snouter, trotter}) + \\
  &amp;p(\text{razorback, snouter}) + p(\text{trotter, snouter}) + p(\text{dot, jowler}) + p(\text{no_dot, jowler})\\
p(Z=20) =&amp; \,p(\text{razorback, razorback}) + p(\text{jowler, razorback}) + p(\text{trotter, trotter}) +p(\text{jowler, trotter}) + \\
  &amp;p(\text{razorback, jowler}) + p(\text{trotter, jowler}) \\
p(Z=25) =&amp; \,p(\text{jowler, snouter}) + p(\text{snouter, jowler}) \\
p(Z=40) =&amp; \,p(\text{snouter, snouter}) \\
p(Z=60) =&amp; \,p(\text{jowler, jowler}) 
\end{align*}\]</span>
<p>Thus, we can express the full PMF of <span class="math inline">\(Z\)</span> as:</p>
<span class="math display">\[\begin{equation}
    p_Z(z)=
    \begin{cases}
      0.210796, &amp; \text{if}\ z=0 \\
      0.213005, &amp; \text{if}\ z=1 \\
      0.406224, &amp; \text{if}\ z=5 \\
      0.078484, &amp; \text{if}\ z=10 \\
      0.0266622, &amp; \text{if}\ z=15 \\
      0.0617264, &amp; \text{if}\ z=20 \\
      3.66\times 10^{-4}, &amp; \text{if}\ z=25 \\
      9\times 10^{-4}, &amp; \text{if}\ z=40 \\
      3.721\times 10^{-5}, &amp; \text{if}\ z=60 \\
      0, &amp; \text{otherwise.}
    \end{cases}
  \end{equation}\]</span>
</div>
<div id="expected-value-and-pass-the-pigs-strategy" class="section level2">
<h2>Expected value and Pass the Pigs strategy</h2>
<p>The expected value <span class="math inline">\(Z\)</span> is the mean point outcome we should get for each roll of our pigs, which we can calculate by summing all of the different point outcomes multiplied by their respective probabilities:</p>
<span class="math display">\[\begin{align}
E[Z] &amp;= \sum z p_Z(z) \\
  &amp;= 0\cdot p(Z=0) + 1\cdot p(Z=1) + \dots 60\cdot p(Z=60)
\end{align}\]</span>
<pre class="r"><code>#create vector for different point outcomes  
z &lt;- c(0, 1, 5, 10, 15, 20, 25, 40, 60)   
  
#create vector for corresponding probabilities  
p_Z &lt;- c(
         (P[1,2] + P[2,1]), 
         (P[1,1] + P[2,2]), 
         (P[1,3] + P[1,4] + P[2,3] + P[2,4] + P[3,1] + P[3,2] + P[4,1] +P[4,2]),
         (P[1,5] + P[2,5] + P[3,4] + P[4,3] + P[5,1] +P[5,2]),
         (P[1,6] + P[2,6] + P[3,5] + P[4,5] +P[5,3] + P[5,4] + P[6,1] + P[6,2]),
         (P[3,3] + P[3,6] + P[4,4] + P[4,6] + P[6,3] + P[6,4]), 
         (P[5,6] + P[6,5]), 
         P[5,5],
         P[6,5]
         )  
  
E_Z &lt;- sum(z*p_Z)  
  
#print result  
E_Z</code></pre>
<pre><code>## [1] 4.719556</code></pre>
<p>Assuming this is our first roll of the game and we are starting with zero points, the expected value would be, <span class="math inline">\(E[Z]\)</span>= 4.719556.</p>
<div id="strategy" class="section level3">
<h3>Strategy!</h3>
<p>The key to Pass the Pigs is knowing when to keep rolling to get more points and knowing when to stop and keep the points you’ve accumulated during your turn before you “pig out” and go back to zero. What is important to keep in mind is that rolling a “pig out”–that is, some combination of pigs that gives you zero points–is not so much being awarded zero points, as it is having all the points you’ve accumulated during your turn taken away from you.</p>
<p>In other words, if <span class="math inline">\(t\)</span> is the total points you’ve been accumulating over all the rolls during your turn, then rolling a “pig out” at probability <span class="math inline">\(p(Z=0)\)</span> gives you <span class="math inline">\(-t\)</span> points.</p>
<p>Going back to our expected value calculation with this information, we now have:</p>
<span class="math display">\[\begin{align}
E[Z] &amp;= \sum z p_Z(z) \\
  &amp;= -t\cdot p(Z=0) + 1\cdot p(Z=1) + \dots 60\cdot p(Z=60)
\end{align}\]</span>
<p>Given our formula now involves the variable <span class="math inline">\(t\)</span>, our expected value for each roll of the pigs will be different depending on what our current point total <span class="math inline">\(t\)</span> is. We can easily see this when we plot the expected value function for different <span class="math inline">\(t\)</span> values. Here, let’s have a look at what happens to our expected value for each roll of the pigs for <span class="math inline">\(t\)</span> values ranging from 0 to 100:</p>
<pre class="r"><code>#create vector of the different starting values of t  
t_vec &lt;- 0:100
  
#calculate different expected values for each starting t   
t_exp_val &lt;- (p_Z[1]*-t_vec) + sum(z[2:9] * p_Z[2:9])   
  
#bind the two objects together in order to plot  
t_sim &lt;- as_tibble(cbind(t_vec, t_exp_val))   
  
#add labels  
names(t_sim) &lt;- c(&quot;t&quot;, &quot;Exp.Value&quot;)  
  
#plot expected value~t-value  
t_sim %&gt;% ggplot(aes(x = t, y = Exp.Value)) + geom_smooth(color = &quot;deeppink&quot;, method = &quot;loess&quot;) +
  geom_hline(yintercept = 0, linetype = &quot;dashed&quot;, color = &quot;grey50&quot;) + 
  annotate(geom = &quot;point&quot;, x = 22.38921, y = 0, color = &quot;deeppink4&quot;) + 
  annotate(geom = &quot;text&quot;, x = 22.38921, y = 0, label = &quot;t = 22.39&quot;, color = &quot;deeppink4&quot;, size = 3.5, hjust= -0.1, vjust= -0.2)  </code></pre>
<p><img src="/posts/2019-01-03-pass-the-pigs-probabilities_files/figure-html/create%20vectors%20for%20t%20values%20and%20expected%20values%20then%20plot-1.png" width="672" /> As you can see in the graph, when our starting point total (<span class="math inline">\(t\)</span>) is low, our expected value–i.e. the points we would expect to receive after rolling–is positive. However, as our starting point total (<span class="math inline">\(t\)</span>) increases, the points we would expect after each roll starts to decrease, and in fact, becomes negative after a certain threshold. I’ve already added that point threshold to the above plot (<span class="math inline">\(t\)</span>= 22.39), but we can solve for this value algebraically, by taking our expected value formula from before, setting it equal to zero and solving for <span class="math inline">\(t\)</span>:</p>
<span class="math display">\[\begin{align}
t &amp;= \frac{1\cdot p(Z=1) + \dots + 60\cdot p(Z=60)}{p(Z=0)}
\end{align}\]</span>
<p>This gives us <span class="math inline">\(t =\)</span> 22.3892104</p>
<p>In other words, until we hit 22.3892104 points, we can still expect to receive a positive value on our next roll. After we hit 22.3892104 for each additional role, our expected value is negative, meaning we would expect to lose all our points by “pigging out”.</p>
<p>I haven’t had a chance to try out the strategy yet, but it seems to make sense, even though it would make for very boring game play.</p>
<p>Back to enjoying my holiday time. Let the games continue!</p>
<br><br />

<center>
<img src="/posts/2019-01-03-pass-the-pigs-probabilities_files/ptp_2017_500px.jpg" />
</center>
</div>
</div>
